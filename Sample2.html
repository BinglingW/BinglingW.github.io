<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Bingling" />


<title>Sample 2: Babies’ Names Over Time</title>

<script src="site_libs/header-attrs-2.5/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="site_libs/anchor-sections-1.0/anchor-sections.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 41px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h2 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h3 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h4 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h5 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h6 {
  padding-top: 46px;
  margin-top: -46px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Bingling Wang's Portal</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="homepage.html">Home</a>
</li>
<li>
  <a href="datasci_samples.html">Data Science Samples</a>
</li>
<li>
  <a href="research.html">Research Projects</a>
</li>
<li>
  <a href="design_challenge.html">Design Challenge</a>
</li>
<li>
  <a href="resume.pdf">Resume</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Sample 2: Babies’ Names Over Time</h1>
<h4 class="author">Bingling</h4>
<h4 class="date">2/22/2021</h4>

</div>


<p><br />
</p>
<div id="data-preparation" class="section level3">
<h3>Data preparation</h3>
<pre class="r"><code>names &lt;- read_csv(&quot;SSA-longtail-names.csv&quot;, col_types = cols(sex = col_character()))
names %&gt;% 
  pivot_longer(`1880`:`2010`, names_to = &quot;year&quot;, values_to = &quot;baby_count&quot;) -&gt; names_tidy</code></pre>
</div>
<div id="how-did-the-proportion-of-top-10-names-changed-throughout-time" class="section level2">
<h2>1. How did the proportion of top 10 names changed throughout time?</h2>
<p>According to the graph below, the proportion of top 10 names each year has been dropping continuously with a slight increase from year 1920 to 1950. The proportion was above 0.25 and below 0.3 in the year 1880. In the year 2010, the proportion was as low as around 0.05.</p>
<p><br />
</p>
<p><img src="Sample2_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="just-looking-at-the-number-of-babies-we-need-proportion." class="section level2">
<h2>2. Just looking at the number of babies? We need proportion.</h2>
<p>As shown in the graph below, the numbers of babies born have been increasing drastically over the years. Thus, the proportion of top 10 names calculated is not accurate in that it does not consider the change of the base population.</p>
<p>A strategy to parse out the generation effect is to create proportion of the amount of each name over all population at that year.</p>
<p><br />
</p>
<p><img src="Sample2_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="fun-changes-over-time." class="section level2">
<h2>3. Fun changes over time.</h2>
<div id="a.-the-last-letter-of-the-name-for-men-and-women" class="section level4">
<h4>a). the last letter of the name for men and women</h4>
<p>The changes of all letters over time were included in <strong>graph 1</strong>. <strong>Graph 2</strong> only included letters with top three popularity for men and women.</p>
<p>From <strong>graph 1</strong>, we can see that the popularity of different last letter was more spread out among males, as most proportions of babies with the same last letter in their names were in the range of 1% to 8%. However, the popularity of different last letter was more concentrated on certain letters among females, as there were some "dominant“ proportions of babies with the same last letter in their names. This also means that the diversity of females’ last letter of theri names was less than that of males’.</p>
<p>From <strong>graph 2</strong>, we can see that, for female names, the letters “e” and “a” had been very popular back in 1880 to around 1920. Then, the letter “a” remained popular, but the letter “e” became less and less popular. For male names, nothing had been particularly popular, but the popoularity of the letter “n” has been increasing throughout the time, from as low as 5% in 1900 to as high as 19% in 2010.</p>
<p><br />
</p>
<p><img src="Sample2_files/figure-html/unnamed-chunk-4-1.png" width="672" /><img src="Sample2_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
</div>
<div id="b.-the-number-of-letters-in-the-name" class="section level4">
<h4>b). the number of letters in the name</h4>
<p>I calculated the proportion of babies who had the same number of letter in their names each year. I then sorted them from large to small and observed the number of letters that had the top 3 largest proportion, all of which were in 4,5,6,7. For the sake of illustrating the change over time better, I only used these four letter counts to make the graph.</p>
<p>From the graph, we can see that <strong>names with 5 or 6</strong> letters has remained pretty popular throughout time.Names with 5 letters had reach up to 30% of popularity in 1960 but had been dropping since then. Names with 6 letters had been increasingly popular, from 22% at around 1970 to 29% in 2010. <strong>Names with four letters</strong> were pretty popular (22%) before 1900s, but then the popularity kept dropping, with a bump to 17% in the 1970s, to about 12% in 2010. <strong>Names with 7 letters</strong> has become more popular as time went on, from around 13% before 1900 to about 21% during 1930 to 1960, and to 24% in 1990. The popularity dropped back to 20% in 2010.</p>
<p><br />
</p>
<p><img src="Sample2_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="c-the-proportion-of-vowels-in-the-name" class="section level4">
<h4>c) the proportion of vowels in the name</h4>
<p>I calculated the yearly proportion of vowels in names using the weighted average of the proportion of vowels in each name. The proportion of vowels had raised from year 1880 to 1890, and it had dropped from year 1890 to 1910. It was at around 36% during the years 1910 to 1970. The proportion has increased since then to above 37.5% in 2010.</p>
<p><br />
</p>
<p><img src="Sample2_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
</div>
<div id="choose-a-name-to-study-its-periods-of-popularity." class="section level2">
<h2>4. Choose a name to study its periods of popularity.</h2>
<p>My own name is very rare in the US, so I choose the name <strong>James</strong> from the movie series James Bond. Note that I have used <strong>baby_count_proportion</strong> instead of <strong>baby_count</strong> to account for the effect of increasing population throughout the years.</p>
<p>As shown in the graph, since “James” is a name for males, it is normal to see that there has been almost no female James throughout history. Among males, the name has been relatively popular in 1880: about 3% of babies were named James at this year. The popularity dropped since then to around 1.5% at year 1900 to 1910. Then, the name became more popular again with a gradual increase back to around 3% around the year 1945. Since then, the popularity of the name dropped again to about 0.5% in the year 2010, with a little bump at around year 1965.</p>
<p>The first James Bond movie was out in the year 1962, which might explain the slight bump at around 1965. However, the name had been more popular back in the history. Back in the 17th century, there was a Scottish king with the name James. He later became the first ruler of all Britain, which might explain why this name was popular around 1880 (probably the names had been popular even before 1880, but we don’t have data for that). The second peak of the popularity of this name may be because the form James is used in the New Testament as the name of two of Christ’s apostles. Back in the 1940s-1950s, people were much more religious, and they might prefer to name their children James. (All sources of the info mentioned are from the internet.)</p>
<p><br />
</p>
<p><img src="Sample2_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="sudden-spike-in-popularity." class="section level2">
<h2>5. Sudden spike in popularity.</h2>
<p>I set my excluding criteria at names that were used by less than 0.1% of babies in the year 1880 to avoid the potential problem with rare names. According to this criteria, <strong>the name with the most sudden increase of popularity</strong> was Etta at year 2002, with a 75.9% increase. <strong>The name with the most sudden decrease of popularity</strong> was Homer at year 2003, with a 250.3% decrease.</p>
<p><br />
</p>
<pre class="r"><code>names_tidy%&gt;%
  ungroup() %&gt;%
  subset(baby_count_proportion &lt; 0.001 &amp; year == 1880) %&gt;%
  select(X1, name) -&gt; excludes
names_tidy %&gt;%
  ungroup() %&gt;%
  anti_join(excludes, by = &quot;X1&quot;) %&gt;%
  group_by(name)%&gt;%
  mutate(oneyear_before_proportion = lag(baby_count_proportion, k=1))%&gt;%
  mutate(change_of_popularity = (( baby_count_proportion - oneyear_before_proportion)/baby_count_proportion))%&gt;%
  filter(change_of_popularity != -Inf) %&gt;% 
  filter(oneyear_before_proportion != 0) %&gt;%
  filter(baby_count_proportion != 0) %&gt;%
  ungroup() %&gt;%
  filter(change_of_popularity == min(change_of_popularity) | change_of_popularity == max(change_of_popularity))</code></pre>
<pre><code>## # A tibble: 2 x 9
##      X1 name  sex   year  baby_count yearly_babycount baby_count_proportion oneyear_before_proportion change_of_popularity
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;            &lt;dbl&gt;                 &lt;dbl&gt;                     &lt;dbl&gt;                &lt;dbl&gt;
## 1    72 Etta  F     2002          29          3733299            0.00000777                0.00000187                0.759
## 2 61482 Homer M     2003           9          3796845            0.00000237                0.00000830               -2.50</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
